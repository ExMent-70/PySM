# Руководство по скрипту "Image Background Remover" (v1.2.0)

## 1. Назначение
Этот скрипт предназначен для высококачественного удаления фона с изображений с использованием нейросетевых моделей из семейств **RMBG** и **BiRefNet**. Он полностью настраивается через графический интерфейс и поддерживает многопоточную обработку для ускорения работы.

## 2. Принцип работы
Скрипт использует гибридную конфигурацию:
1.  **`config.toml`**: Файл в папке со скриптом, который содержит "продвинутые" настройки (например, путь к папке с моделями `model_root`, цвет фона `background_color`).
2.  **Интерфейс PySM**: Все основные параметры для ежедневной работы задаются через GUI. **Настройки из интерфейса всегда имеют приоритет.**

## 3. Параметры в интерфейсе PySM
-   **`input_dir` / `output_dir`**: Папки для исходных изображений и результатов.
-   **`processor_type`**: Выбор семейства моделей:
    -   `rmbg`: Для универсальных моделей (`RMBG-2.0`, `BEN`, `BEN2`, `INSPYRENET`).
    -   `birefnet`: Для специализированных моделей `BiRefNet`.
-   **`model_rmbg`**: Выпадающий список моделей, активный при `processor_type: rmbg`.
-   **`model_birefnet`**: Выпадающий список моделей, активный при `processor_type: birefnet`.
-   **`background`**: Тип фона для итогового изображения (`Alpha`, `Solid`, `Original`).
-   **`mask_blur` / `mask_offset`**: Постобработка краев маски.
-   **`save_options`**: Позволяет выбрать, что сохранять. Можно выбрать оба варианта:
    -   `image`: Итоговое изображение с обработанным фоном.
    -   `mask`: Черно-белая маска.
-   **`invert_mask`**: Инвертировать финальную маску (черное станет белым).
-   **`fast_refine`**: Применяет дополнительный шаг постобработки для смягчения и улучшения полупрозрачных краев маски (например, волос).
-   **`threads`**: Количество потоков для обработки. `0` - автоматический выбор (рекомендуется).

## 4. Именование файлов
К именам сохраненных файлов будет добавлено название используемой модели для удобного сравнения результатов. Например: `my_photo_RMBG-2.0_output.png`.