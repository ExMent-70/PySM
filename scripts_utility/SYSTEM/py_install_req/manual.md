# Руководство по скрипту "Установщик зависимостей" (v1.0.0)

## 1. Назначение

Скрипт **"Установщик зависимостей"** — это мощная утилита для автоматической установки Python-пакетов, необходимых для работы других скриптов. Его ключевая особенность — **интеллектуальный анализ системы**. Он проверяет наличие и тип видеокарты (NVIDIA, AMD, Intel), а также установленную версию CUDA, чтобы выбрать и установить правильные версии "тяжелых" библиотек, таких как `torch`.

Это избавляет от необходимости вручную подбирать команды `pip install` для разных компьютеров.

## 2. Логика работы

1.  **Анализ системы:** При запуске скрипт определяет, какая видеокарта установлена и доступен ли NVIDIA CUDA.
2.  **Поиск файла зависимостей:** Скрипт ищет в указанной директории (`inst_search_path`) один из стандартных файлов зависимостей: `requirements.txt` или `pyproject.toml`.
3.  **Парсинг и построение плана:** Скрипт читает найденный файл и, основываясь на результатах анализа системы, строит "план установки". Например, если найдена CUDA, он выберет `torch` с поддержкой GPU; если нет — установит CPU-версию.
4.  **Проверка установленных пакетов:** Перед установкой скрипт проверяет, какие из требуемых пакетов уже есть в системе.
5.  **Установка:** Выполняется установка только недостающих или требующих обновления пакетов с помощью `pip`.

## 3. Параметры

*   `inst_search_path`:
    -   **Назначение:** Указывает, где искать файл с зависимостями. Можно указать путь к конкретному файлу (`requirements.txt`) или к папке, в которой он лежит.
    -   **Значение по умолчанию:** Текущая рабочая директория.

*   `inst_python_interpreter`:
    -   **Назначение:** Позволяет указать, для какого именно интерпретатора Python нужно установить пакеты.
    -   **Значение по умолчанию:** Тот же `python.exe`, которым запущен сам PyScriptManager. **Рекомендуется не изменять этот параметр.**

*   `inst_upgrade`:
    -   **Назначение:** Если флаг установлен, скрипт попытается обновить все пакеты до последних версий, даже если они уже установлены.
    -   **Значение по умолчанию:** `False` (выключено).

*   `inst_verbose`:
    -   **Назначение:** Включает вывод подробной отладочной информации в лог.
    -   **Значение по умолчанию:** `False` (выключено).

*   `inst_analyze_only`:
    -   **Назначение:** Если флаг установлен, скрипт только выполнит анализ системы (Шаг 1) и выведет результат, не приступая к установке. Полезно для диагностики.
    -   **Значение по умолчанию:** `False` (выключено).