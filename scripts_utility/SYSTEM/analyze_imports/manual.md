# Руководство по "Анализатору импортов" (v1.05.03)

## 1. Назначение

Этот скрипт является мощной утилитой для разработчиков, которая позволяет автоматически проанализировать проект на Python, чтобы определить все его зависимости. Он решает две основные задачи:
1.  Создание файла `requirements.txt` со списком всех сторонних библиотек, необходимых для работы проекта.
2.  Генерация полного отчета, в котором все импорты сгруппированы по категориям.

## 2. Логика работы

1.  **Получает параметры:** Скрипт принимает на вход путь к директории для анализа и, опционально, путь для сохранения отчетов.
2.  **Определяет локальные модули:** Сначала он сканирует указанную папку, чтобы понять, какие модули и пакеты являются частью вашего собственного проекта.
3.  **Анализирует файлы:** Рекурсивно находит все файлы с расширением `.py`.
4.  **Извлекает импорты:** Для каждого файла он безопасно, с помощью синтаксического анализатора Python, извлекает все инструкции `import`.
5.  **Классифицирует зависимости:** Все найденные уникальные импорты разделяются на три группы:
    -   **Сторонние пакеты:** Библиотеки, которые нужно устанавливать отдельно (например, `PySide6`, `numpy`).
    -   **Внутренние модули проекта:** Ваши собственные файлы и пакеты.
    -   **Модули стандартной библиотеки:** Пакеты, которые идут в комплекте с Python (например, `os`, `sys`, `pathlib`).
6.  **Генерирует файлы:**
    -   **`{имя папки}_requirements.txt`**: Содержит только список сторонних пакетов в формате, готовом для команды `pip install -r`.
    -   **`imports_{имя папки}_full_report.txt`**: Подробный отчет со всеми тремя списками (создается, если не установлен флаг "Только requirements.txt").
7.  **Выводит отчет в лог:** Вся сгруппированная информация также выводится в лог GUI для быстрого просмотра.

## 3. Параметры

-   **`ai_scan_directory`**:
    -   **Назначение:** Путь к директории, которую нужно проанализировать.
    -   **Значение по умолчанию:** `{collection_dir}` (папка текущей коллекции).

-   **`ai_output_directory`**:
    -   **Назначение:** Папка, в которую будут сохранены сгенерированные файлы (`requirements.txt`, `_full_report.txt`).
    -   **Поведение по умолчанию:** Если поле оставить пустым, файлы будут сохранены в текущую рабочую директорию запуска скрипта.

-   **`ai_generate_requirements_only`**:
    -   **Назначение:** Если этот флаг включен, скрипт создаст только файл `requirements.txt` и не будет генерировать более подробный отчет.
    -   **Значение по умолчанию:** Выключено.