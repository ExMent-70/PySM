### **Руководство по "TensorRT Doctor" (v1.05.03)**

#### **1. Назначение**

Этот скрипт является диагностической утилитой для проверки корректности установки и работоспособности библиотеки **NVIDIA TensorRT**. TensorRT используется для оптимизации и ускорения инференса (выполнения) нейронных сетей. Скрипт решает следующие задачи:

1.  **Проверка установки:** Позволяет быстро определить, установлена ли библиотека `tensorrt` и доступна ли она для импорта в Python.
2.  **Проверка инициализации:** Убеждается, что базовые компоненты библиотеки, такие как логгер, могут быть созданы.
3.  **Проверка совместимости стека:** Выполняет комплексную проверку, пытаясь скомпилировать простейший движок (engine), что требует слаженной работы всего стека: **TensorRT + cuDNN + CUDA Toolkit + Драйвер NVIDIA**.

**Когда следует использовать этот скрипт:**
*   После установки TensorRT, чтобы убедиться, что все компоненты настроены правильно.
*   Если ваши скрипты, использующие TensorRT, не запускаются или падают с ошибками при создании движка.
*   Для быстрой диагностики окружения на новом сервере или рабочем месте.

#### **2. Логика работы**

Скрипт выполняет последовательную серию из трех тестов:

1.  **Тест 1: Импорт библиотеки**
    *   **Действие:** Выполняется попытка `import tensorrt`.
    *   **Цель:** Это самая первая и частая точка отказа. Успешный импорт означает, что Python нашел библиотеку. Неудача говорит о проблемах с установкой или системными путями.

2.  **Тест 2: Запрос версии и создание логгера**
    *   **Действие:** Получает версию `tensorrt.__version__` и создает экземпляр `trt.Logger`.
    *   **Цель:** Убедиться, что импортированная библиотека является функциональной и ее основные компоненты инициализируются без ошибок.

3.  **Тест 3: Сборка простого движка**
    *   **Действие:** Это финальный, комплексный тест. Скрипт программно создает минимально возможную нейронную сеть (один входной слой, один слой-идентификатор, один выходной слой) и пытается скомпилировать ее в оптимизированный движок TensorRT.
    *   **Цель:** Проверить полную работоспособность и совместимость всех зависимых библиотек. Успешная сборка движка означает, что TensorRT может корректно взаимодействовать с cuDNN, CUDA и драйвером GPU.

#### **3. Интерпретация результатов**

*   **Идеальный результат: `✅✅✅ ULTIMATE SUCCESS`**
    *   Это означает, что все три теста прошли успешно. Ваша среда готова к работе с TensorRT.

*   **Типовые ошибки и их значение:**
    *   **`❌ CRITICAL` в Тесте 1:** Самая распространенная проблема. Означает, что:
        1.  Пакет `tensorrt` не установлен через `pip`.
        2.  Вы используете ручную установку TensorRT (из архива), но пути к его библиотекам (`.so` или `.dll`) не добавлены в системные переменные `LD_LIBRARY_PATH` (для Linux) или `PATH` (для Windows).
    *   **`❌❌❌ ULTIMATE FAILURE` в Тесте 3:** Это серьезная ошибка, указывающая на проблему совместимости. Даже если TensorRT установлен, он не может работать. Возможные причины:
        1.  **Несовместимость версий:** Версия TensorRT требует определенную версию cuDNN или CUDA Toolkit, которая не соответствует установленной.
        2.  **Проблема с драйвером:** Драйвер NVIDIA слишком старый для используемой версии CUDA/TensorRT.
        3.  **Недостаточно прав или ресурсов GPU.**
        Внимательно изучите `traceback` (трассировку ошибки), который скрипт выведет в консоль — он содержит точное описание проблемы.

#### **4. Параметры**

Данный скрипт не принимает параметров командной строки.

#### **5. Требования**

Для корректной работы скрипта и успешного прохождения тестов необходимо:
*   Установленная библиотека `tensorrt`.
*   Установленная библиотека `cudnn` (является зависимостью TensorRT).
*   Установленный в системе драйвер NVIDIA.